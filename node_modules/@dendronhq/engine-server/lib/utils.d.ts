import { DendronError, DEngineClient, DNoteRefLink, DVault, getSlugger, NoteProps, NotePropsDict, NotesCache, NotesCacheEntry } from "@dendronhq/common-all";
import { WSMeta } from "./types";
export declare function normalizev2(text: string, slugger: ReturnType<typeof getSlugger>): string;
/**
 * take a ref link and parse it as regular markdown
 */
export declare function refLink2String(link: DNoteRefLink, opts?: {
    includeParen: boolean;
    includeRefTag?: boolean;
}): string;
export declare function refLink2Stringv2(opts: {
    link: DNoteRefLink;
    useVaultPrefix?: boolean;
    rawAnchors?: boolean;
}): string;
export declare function getEngine(opts: {
    numTries?: number;
    wsRoot: string;
    vaults: DVault[];
}): Promise<{
    error?: DendronError;
    data?: DEngineClient;
}>;
export declare function getPortFilePath({ wsRoot }: {
    wsRoot: string;
}): string;
export declare function getWSMetaFilePath({ wsRoot }: {
    wsRoot: string;
}): string;
export declare function openPortFile({ fpath }: {
    fpath: string;
}): number;
export declare function openWSMetaFile({ fpath }: {
    fpath: string;
}): WSMeta;
export declare function writeWSMetaFile({ fpath, data, }: {
    fpath: string;
    data: WSMeta;
}): void;
export declare function parseDendronRef(ref: string): {
    direction: "to";
    link: DNoteRefLink | undefined;
};
export declare function parseFileLink(ref: string): DNoteRefLink;
export declare const matchRefMarker: (txt: string) => RegExpMatchArray | null;
export declare function createCacheEntry(opts: {
    noteProps: NoteProps;
    hash: string;
}): NotesCacheEntry;
export declare const getCachePath: (vpath: string) => string;
export declare const readNotesFromCache: (vpath: string) => NotesCache;
export declare const writeNotesToCache: (vpath: string, cache: NotesCache) => void;
export declare const removeCache: (vpath: string) => Promise<void> | undefined;
export declare function stripLocalOnlyTags(doc: string): string;
export declare class HierarchyUtils {
    /**
     * Get children of current note
     * @param opts.skipLevels: how many levels to skip for child
     * @returns
     */
    static getChildren: (opts: {
        skipLevels: number;
        note: NoteProps;
        notes: NotePropsDict;
    }) => NoteProps[];
}
export declare class EngineUtils {
    static getEnginePort(opts: {
        wsRoot: string;
    }): number;
    static getLocalEngineUrl({ port }: {
        port: number;
    }): string;
}
